import{r as p,o as v,w as y,a as k,g as P,h as E,T as V,j as B,v as C,b as u,k as x,d as $}from"./index.PXxL51Wy.js";/* empty css                        */import{b as m}from"./store.D9UzEAUg.js";import{d as _,e as w}from"./bodyScrollLock.esm.CT-oBNdc.js";import{_ as N}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{u as h}from"./index.CxR5AyqT.js";const j="modulepreload",D=function(d){return"/"+d},b={},L=function(s,n,a){let c=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),t=o?.nonce||o?.getAttribute("nonce");c=Promise.allSettled(n.map(i=>{if(i=D(i),i in b)return;b[i]=!0;const l=i.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${f}`))return;const e=document.createElement("link");if(e.rel=l?"stylesheet":j,l||(e.as="script"),e.crossOrigin="",e.href=i,t&&e.setAttribute("nonce",t),document.head.appendChild(e),l)return new Promise((g,S)=>{e.addEventListener("load",g),e.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${i}`)))})}))}function r(o){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=o,window.dispatchEvent(t),!t.defaultPrevented)throw o}return c.then(o=>{for(const t of o||[])t.status==="rejected"&&r(t.reason);return s().catch(r)})},T={__name:"VideoDialog",props:{video_id:{type:String},embed:{type:String},className:{type:String}},setup(d,{expose:s}){s();const n=h(m),a=d,c=p(null),r=p(null),o=p(!1);let t;v(async()=>{});const i=()=>{m.set({id:n.value.id,show:!1}),r.value&&r.value.pause()},l=async()=>{t||(t=(await L(async()=>{const{default:e}=await import("./plyr.min.DTjjHomp.js");return{default:e}},[])).default),r.value?r.value.play():(o.value=!0,r.value=new t(c.value,{playsinline:0,settings:["loop"],iconUrl:"/icons/plyr.svg",controls:["play","progress","current-time","mute","volume","airplay","fullscreen"],youtube:{origin:window.location.host,iv_load_policy:3,modestbranding:1,showinfo:0,rel:0,enablejsapi:1,noCookie:!0}}),r.value.on("ready",function(e){r.value.play(),o.value=!1}))};y(n,e=>{e.show&&e.id===a.video_id&&(l(),_(document.body)),!e.show&&e.id===a.video_id&&w(document.body)},{immediate:!0});const f={$show:n,props:a,container:c,videoPlayer:r,loading:o,get Plyr(){return t},set Plyr(e){t=e},pauseVideo:i,playVideo:l,ref:p,watch:y,onMounted:v,get useStore(){return h},get showVideo(){return m},get disableBodyScroll(){return _},get enableBodyScroll(){return w}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}},U={class:"overflow-hidden rounded shadow-xl"},A=["data-plyr-provider","data-plyr-embed-id"];function M(d,s,n,a,c,r){return k(),P(V,{name:"fade"},{default:E(()=>[B(u("div",{class:"bg-dark-blur z-1000 pointer-events-auto fixed inset-0 grid w-full cursor-pointer place-items-center",onClick:s[2]||(s[2]=o=>a.pauseVideo())},[u("div",{onClick:s[1]||(s[1]=x(()=>{},["stop"])),class:"container-md relative"},[u("div",U,[u("div",{class:"w-full",ref:"container","data-plyr-provider":n.embed,"data-plyr-embed-id":n.video_id},null,8,A)]),u("button",{class:"btn btn-icon surface-dark btn-absolute -right-1 -top-1 z-10 grid h-10 w-10 place-items-center",onClick:s[0]||(s[0]=o=>a.pauseVideo())},[$(d.$slots,"default")])])],512),[[C,a.$show.show&&a.$show.id===n.video_id]])]),_:3})}const F=N(T,[["render",M]]);export{F as default};
